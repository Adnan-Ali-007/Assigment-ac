"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/calls/demo-initiate/route";
exports.ids = ["app/api/calls/demo-initiate/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcalls%2Fdemo-initiate%2Froute&page=%2Fapi%2Fcalls%2Fdemo-initiate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcalls%2Fdemo-initiate%2Froute.ts&appDir=C%3A%5CUsers%5C1azha%5CDownloads%5Cattack-capital_-advanced-amd%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C1azha%5CDownloads%5Cattack-capital_-advanced-amd&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcalls%2Fdemo-initiate%2Froute&page=%2Fapi%2Fcalls%2Fdemo-initiate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcalls%2Fdemo-initiate%2Froute.ts&appDir=C%3A%5CUsers%5C1azha%5CDownloads%5Cattack-capital_-advanced-amd%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C1azha%5CDownloads%5Cattack-capital_-advanced-amd&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_1azha_Downloads_attack_capital_advanced_amd_app_api_calls_demo_initiate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/calls/demo-initiate/route.ts */ \"(rsc)/./app/api/calls/demo-initiate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/calls/demo-initiate/route\",\n        pathname: \"/api/calls/demo-initiate\",\n        filename: \"route\",\n        bundlePath: \"app/api/calls/demo-initiate/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\1azha\\\\Downloads\\\\attack-capital_-advanced-amd\\\\app\\\\api\\\\calls\\\\demo-initiate\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_1azha_Downloads_attack_capital_advanced_amd_app_api_calls_demo_initiate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/calls/demo-initiate/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjYWxscyUyRmRlbW8taW5pdGlhdGUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmNhbGxzJTJGZGVtby1pbml0aWF0ZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmNhbGxzJTJGZGVtby1pbml0aWF0ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUMxYXpoYSU1Q0Rvd25sb2FkcyU1Q2F0dGFjay1jYXBpdGFsXy1hZHZhbmNlZC1hbWQlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1QzFhemhhJTVDRG93bmxvYWRzJTVDYXR0YWNrLWNhcGl0YWxfLWFkdmFuY2VkLWFtZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDbUQ7QUFDaEk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdHRhY2stY2FwaXRhbC1uZXh0anMvP2FmYmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcMWF6aGFcXFxcRG93bmxvYWRzXFxcXGF0dGFjay1jYXBpdGFsXy1hZHZhbmNlZC1hbWRcXFxcYXBwXFxcXGFwaVxcXFxjYWxsc1xcXFxkZW1vLWluaXRpYXRlXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jYWxscy9kZW1vLWluaXRpYXRlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY2FsbHMvZGVtby1pbml0aWF0ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY2FsbHMvZGVtby1pbml0aWF0ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXDFhemhhXFxcXERvd25sb2Fkc1xcXFxhdHRhY2stY2FwaXRhbF8tYWR2YW5jZWQtYW1kXFxcXGFwcFxcXFxhcGlcXFxcY2FsbHNcXFxcZGVtby1pbml0aWF0ZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY2FsbHMvZGVtby1pbml0aWF0ZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcalls%2Fdemo-initiate%2Froute&page=%2Fapi%2Fcalls%2Fdemo-initiate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcalls%2Fdemo-initiate%2Froute.ts&appDir=C%3A%5CUsers%5C1azha%5CDownloads%5Cattack-capital_-advanced-amd%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C1azha%5CDownloads%5Cattack-capital_-advanced-amd&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/calls/demo-initiate/route.ts":
/*!**********************************************!*\
  !*** ./app/api/calls/demo-initiate/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v4/classic/external.js\");\n/* harmony import */ var _lib_amdStrategies__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/amdStrategies */ \"(rsc)/./lib/amdStrategies.ts\");\n/**\r\n * Demo Call Initiation - Simulates all AMD strategies\r\n * Works without real Twilio calls for demonstration\r\n */ \n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_1__.PrismaClient();\nconst initiateCallSchema = zod__WEBPACK_IMPORTED_MODULE_3__.object({\n    targetNumber: zod__WEBPACK_IMPORTED_MODULE_3__.string().min(10, \"Phone number must be at least 10 digits\"),\n    amdStrategy: zod__WEBPACK_IMPORTED_MODULE_3__.string().default(\"twilio-native\"),\n    userId: zod__WEBPACK_IMPORTED_MODULE_3__.string().min(1, \"User ID is required\")\n});\nasync function POST(request) {\n    try {\n        console.log(\"=== DEMO CALL INITIATION START ===\");\n        const body = await request.json();\n        console.log(\"Request body:\", body);\n        const validatedData = initiateCallSchema.parse(body);\n        const { targetNumber, amdStrategy, userId } = validatedData;\n        // Format phone number\n        const formattedNumber = targetNumber.startsWith(\"+\") ? targetNumber : `+1${targetNumber.replace(/\\D/g, \"\")}`;\n        // Verify user exists\n        const user = await prisma.user.findUnique({\n            where: {\n                id: userId\n            }\n        });\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Create call record\n        const call = await prisma.call.create({\n            data: {\n                userId,\n                targetNumber: formattedNumber,\n                amdStrategy,\n                status: \"INITIATED\"\n            }\n        });\n        console.log(`Created demo call record: ${call.id} with strategy: ${amdStrategy}`);\n        // Simulate call progression with the selected AMD strategy\n        setTimeout(async ()=>{\n            await simulateCallProgression(call.id, amdStrategy, formattedNumber);\n        }, 1000);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            callId: call.id,\n            callSid: `demo_${call.id}`,\n            status: \"INITIATED\",\n            targetNumber: formattedNumber,\n            amdStrategy,\n            demo: true\n        });\n    } catch (error) {\n        console.error(\"Demo call initiation error:\", error);\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_3__.ZodError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Validation error\",\n                details: error.issues\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to initiate demo call\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function simulateCallProgression(callId, strategy, targetNumber) {\n    try {\n        console.log(`Simulating call progression for ${callId} with ${strategy}`);\n        // Step 1: Ringing (1-2 seconds)\n        await new Promise((resolve)=>setTimeout(resolve, 1500));\n        await prisma.call.update({\n            where: {\n                id: callId\n            },\n            data: {\n                status: \"RINGING\",\n                updatedAt: new Date()\n            }\n        });\n        console.log(`Call ${callId}: RINGING`);\n        // Step 2: Answered (1-2 seconds)\n        await new Promise((resolve)=>setTimeout(resolve, 1800));\n        await prisma.call.update({\n            where: {\n                id: callId\n            },\n            data: {\n                status: \"ANALYZING\",\n                updatedAt: new Date()\n            }\n        });\n        console.log(`Call ${callId}: ANALYZING with ${strategy}`);\n        // Step 3: AMD Processing with selected strategy\n        const detector = (0,_lib_amdStrategies__WEBPACK_IMPORTED_MODULE_2__.createDetector)(strategy);\n        const mockAudioBuffer = Buffer.alloc(1024); // Mock audio data\n        const amdResult = await detector.processStream(mockAudioBuffer);\n        console.log(`AMD Result for ${strategy}:`, amdResult);\n        // Determine final status based on AMD result\n        let finalStatus = \"COMPLETED\";\n        // For demo purposes, make certain numbers always trigger machine detection\n        const machineNumbers = [\n            \"18007742678\",\n            \"18008066453\",\n            \"18882211161\"\n        ]; // Costco, Nike, PayPal\n        const cleanNumber = targetNumber.replace(/\\D/g, \"\");\n        let finalResult = amdResult.result;\n        let finalConfidence = amdResult.confidence;\n        if (machineNumbers.some((num)=>cleanNumber.includes(num.slice(1)))) {\n            // Force machine detection for known voicemail numbers\n            finalResult = \"machine\";\n            finalConfidence = Math.max(0.85, amdResult.confidence);\n        }\n        // Step 4: Update with final AMD result\n        await prisma.call.update({\n            where: {\n                id: callId\n            },\n            data: {\n                status: finalStatus,\n                detectionResult: finalResult.toUpperCase(),\n                confidence: finalConfidence,\n                duration: finalResult === \"human\" ? Math.floor(Math.random() * 120) + 30 : 0,\n                updatedAt: new Date()\n            }\n        });\n        console.log(`Call ${callId} completed: ${finalResult} (confidence: ${finalConfidence})`);\n        // Log strategy performance\n        console.log(`Strategy Performance - ${strategy}:`, {\n            result: finalResult,\n            confidence: finalConfidence,\n            processingTime: amdResult.processingTime,\n            targetNumber: targetNumber\n        });\n    } catch (error) {\n        console.error(`Error simulating call progression for ${callId}:`, error);\n        // Mark call as failed\n        await prisma.call.update({\n            where: {\n                id: callId\n            },\n            data: {\n                status: \"FAILED\",\n                updatedAt: new Date()\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NhbGxzL2RlbW8taW5pdGlhdGUvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7OztDQUdDLEdBRXVEO0FBQ1Y7QUFDdEI7QUFDNkI7QUFFckQsTUFBTUksU0FBUyxJQUFJSCx3REFBWUE7QUFFL0IsTUFBTUkscUJBQXFCSCx1Q0FBUSxDQUFDO0lBQ2xDSyxjQUFjTCx1Q0FBUSxHQUFHTyxHQUFHLENBQUMsSUFBSTtJQUNqQ0MsYUFBYVIsdUNBQVEsR0FBR1MsT0FBTyxDQUFDO0lBQ2hDQyxRQUFRVix1Q0FBUSxHQUFHTyxHQUFHLENBQUMsR0FBRztBQUM1QjtBQUVPLGVBQWVJLEtBQUtDLE9BQW9CO0lBQzdDLElBQUk7UUFDRkMsUUFBUUMsR0FBRyxDQUFDO1FBQ1osTUFBTUMsT0FBTyxNQUFNSCxRQUFRSSxJQUFJO1FBQy9CSCxRQUFRQyxHQUFHLENBQUMsaUJBQWlCQztRQUU3QixNQUFNRSxnQkFBZ0JkLG1CQUFtQmUsS0FBSyxDQUFDSDtRQUMvQyxNQUFNLEVBQUVWLFlBQVksRUFBRUcsV0FBVyxFQUFFRSxNQUFNLEVBQUUsR0FBR087UUFFOUMsc0JBQXNCO1FBQ3RCLE1BQU1FLGtCQUFrQmQsYUFBYWUsVUFBVSxDQUFDLE9BQU9mLGVBQWUsQ0FBQyxFQUFFLEVBQUVBLGFBQWFnQixPQUFPLENBQUMsT0FBTyxJQUFJLENBQUM7UUFFNUcscUJBQXFCO1FBQ3JCLE1BQU1DLE9BQU8sTUFBTXBCLE9BQU9vQixJQUFJLENBQUNDLFVBQVUsQ0FBQztZQUN4Q0MsT0FBTztnQkFBRUMsSUFBSWY7WUFBTztRQUN0QjtRQUVBLElBQUksQ0FBQ1ksTUFBTTtZQUNULE9BQU94QixxREFBWUEsQ0FBQ2tCLElBQUksQ0FBQztnQkFBRVUsT0FBTztZQUFpQixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDdEU7UUFFQSxxQkFBcUI7UUFDckIsTUFBTUMsT0FBTyxNQUFNMUIsT0FBTzBCLElBQUksQ0FBQ0MsTUFBTSxDQUFDO1lBQ3BD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WUFDbEUsc0RBQXNEO1lBQ3REUCxjQUFjO1lBQ2RFLGtCQUFrQk0sS0FBS0MsR0FBRyxDQUFDLE1BQU1kLFVBQVVRLFVBQVU7UUFDdkQ7UUFFQSx1Q0FBdUM7UUFDdkMsTUFBTTFELE9BQU8wQixJQUFJLENBQUNpQixNQUFNLENBQUM7WUFDdkJyQixPQUFPO2dCQUFFQyxJQUFJUztZQUFPO1lBQ3BCSixNQUFNO2dCQUNKSCxRQUFRMkI7Z0JBQ1JhLGlCQUFpQlYsWUFBWVcsV0FBVztnQkFDeENSLFlBQVlEO2dCQUNaVSxVQUFVWixnQkFBZ0IsVUFBVVEsS0FBS0ssS0FBSyxDQUFDTCxLQUFLTSxNQUFNLEtBQUssT0FBTyxLQUFLO2dCQUMzRXpCLFdBQVcsSUFBSUM7WUFDakI7UUFDRjtRQUVBbEMsUUFBUUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFb0IsT0FBTyxZQUFZLEVBQUV1QixZQUFZLGNBQWMsRUFBRUUsZ0JBQWdCLENBQUMsQ0FBQztRQUV2RiwyQkFBMkI7UUFDM0I5QyxRQUFRQyxHQUFHLENBQUMsQ0FBQyx1QkFBdUIsRUFBRTRCLFNBQVMsQ0FBQyxDQUFDLEVBQUU7WUFDakRnQixRQUFRRDtZQUNSRyxZQUFZRDtZQUNaYSxnQkFBZ0JwQixVQUFVb0IsY0FBYztZQUN4Q25FLGNBQWNBO1FBQ2hCO0lBRUYsRUFBRSxPQUFPcUIsT0FBTztRQUNkYixRQUFRYSxLQUFLLENBQUMsQ0FBQyxzQ0FBc0MsRUFBRVEsT0FBTyxDQUFDLENBQUMsRUFBRVI7UUFFbEUsc0JBQXNCO1FBQ3RCLE1BQU14QixPQUFPMEIsSUFBSSxDQUFDaUIsTUFBTSxDQUFDO1lBQ3ZCckIsT0FBTztnQkFBRUMsSUFBSVM7WUFBTztZQUNwQkosTUFBTTtnQkFDSkgsUUFBUTtnQkFDUm1CLFdBQVcsSUFBSUM7WUFDakI7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdHRhY2stY2FwaXRhbC1uZXh0anMvLi9hcHAvYXBpL2NhbGxzL2RlbW8taW5pdGlhdGUvcm91dGUudHM/ZDgxMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRGVtbyBDYWxsIEluaXRpYXRpb24gLSBTaW11bGF0ZXMgYWxsIEFNRCBzdHJhdGVnaWVzXHJcbiAqIFdvcmtzIHdpdGhvdXQgcmVhbCBUd2lsaW8gY2FsbHMgZm9yIGRlbW9uc3RyYXRpb25cclxuICovXHJcblxyXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XHJcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xyXG5pbXBvcnQgeyBjcmVhdGVEZXRlY3RvciB9IGZyb20gJ0AvbGliL2FtZFN0cmF0ZWdpZXMnO1xyXG5cclxuY29uc3QgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xyXG5cclxuY29uc3QgaW5pdGlhdGVDYWxsU2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIHRhcmdldE51bWJlcjogei5zdHJpbmcoKS5taW4oMTAsICdQaG9uZSBudW1iZXIgbXVzdCBiZSBhdCBsZWFzdCAxMCBkaWdpdHMnKSxcclxuICBhbWRTdHJhdGVneTogei5zdHJpbmcoKS5kZWZhdWx0KCd0d2lsaW8tbmF0aXZlJyksXHJcbiAgdXNlcklkOiB6LnN0cmluZygpLm1pbigxLCAnVXNlciBJRCBpcyByZXF1aXJlZCcpLFxyXG59KTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCc9PT0gREVNTyBDQUxMIElOSVRJQVRJT04gU1RBUlQgPT09Jyk7XHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZygnUmVxdWVzdCBib2R5OicsIGJvZHkpO1xyXG4gICAgXHJcbiAgICBjb25zdCB2YWxpZGF0ZWREYXRhID0gaW5pdGlhdGVDYWxsU2NoZW1hLnBhcnNlKGJvZHkpO1xyXG4gICAgY29uc3QgeyB0YXJnZXROdW1iZXIsIGFtZFN0cmF0ZWd5LCB1c2VySWQgfSA9IHZhbGlkYXRlZERhdGE7XHJcbiAgICBcclxuICAgIC8vIEZvcm1hdCBwaG9uZSBudW1iZXJcclxuICAgIGNvbnN0IGZvcm1hdHRlZE51bWJlciA9IHRhcmdldE51bWJlci5zdGFydHNXaXRoKCcrJykgPyB0YXJnZXROdW1iZXIgOiBgKzEke3RhcmdldE51bWJlci5yZXBsYWNlKC9cXEQvZywgJycpfWA7XHJcbiAgICBcclxuICAgIC8vIFZlcmlmeSB1c2VyIGV4aXN0c1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogdXNlcklkIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgY2FsbCByZWNvcmRcclxuICAgIGNvbnN0IGNhbGwgPSBhd2FpdCBwcmlzbWEuY2FsbC5jcmVhdGUoe1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgdXNlcklkLFxyXG4gICAgICAgIHRhcmdldE51bWJlcjogZm9ybWF0dGVkTnVtYmVyLFxyXG4gICAgICAgIGFtZFN0cmF0ZWd5LFxyXG4gICAgICAgIHN0YXR1czogJ0lOSVRJQVRFRCcsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhgQ3JlYXRlZCBkZW1vIGNhbGwgcmVjb3JkOiAke2NhbGwuaWR9IHdpdGggc3RyYXRlZ3k6ICR7YW1kU3RyYXRlZ3l9YCk7XHJcblxyXG4gICAgLy8gU2ltdWxhdGUgY2FsbCBwcm9ncmVzc2lvbiB3aXRoIHRoZSBzZWxlY3RlZCBBTUQgc3RyYXRlZ3lcclxuICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCBzaW11bGF0ZUNhbGxQcm9ncmVzc2lvbihjYWxsLmlkLCBhbWRTdHJhdGVneSwgZm9ybWF0dGVkTnVtYmVyKTtcclxuICAgIH0sIDEwMDApO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGNhbGxJZDogY2FsbC5pZCxcclxuICAgICAgY2FsbFNpZDogYGRlbW9fJHtjYWxsLmlkfWAsXHJcbiAgICAgIHN0YXR1czogJ0lOSVRJQVRFRCcsXHJcbiAgICAgIHRhcmdldE51bWJlcjogZm9ybWF0dGVkTnVtYmVyLFxyXG4gICAgICBhbWRTdHJhdGVneSxcclxuICAgICAgZGVtbzogdHJ1ZVxyXG4gICAgfSk7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdEZW1vIGNhbGwgaW5pdGlhdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICBcclxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdWYWxpZGF0aW9uIGVycm9yJywgZGV0YWlsczogZXJyb3IuaXNzdWVzIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGluaXRpYXRlIGRlbW8gY2FsbCcsIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNpbXVsYXRlQ2FsbFByb2dyZXNzaW9uKGNhbGxJZDogc3RyaW5nLCBzdHJhdGVneTogc3RyaW5nLCB0YXJnZXROdW1iZXI6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhgU2ltdWxhdGluZyBjYWxsIHByb2dyZXNzaW9uIGZvciAke2NhbGxJZH0gd2l0aCAke3N0cmF0ZWd5fWApO1xyXG4gICAgXHJcbiAgICAvLyBTdGVwIDE6IFJpbmdpbmcgKDEtMiBzZWNvbmRzKVxyXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDE1MDApKTtcclxuICAgIGF3YWl0IHByaXNtYS5jYWxsLnVwZGF0ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBjYWxsSWQgfSxcclxuICAgICAgZGF0YTogeyBzdGF0dXM6ICdSSU5HSU5HJywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH1cclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2coYENhbGwgJHtjYWxsSWR9OiBSSU5HSU5HYCk7XHJcblxyXG4gICAgLy8gU3RlcCAyOiBBbnN3ZXJlZCAoMS0yIHNlY29uZHMpXHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTgwMCkpO1xyXG4gICAgYXdhaXQgcHJpc21hLmNhbGwudXBkYXRlKHtcclxuICAgICAgd2hlcmU6IHsgaWQ6IGNhbGxJZCB9LFxyXG4gICAgICBkYXRhOiB7IHN0YXR1czogJ0FOQUxZWklORycsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9XHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKGBDYWxsICR7Y2FsbElkfTogQU5BTFlaSU5HIHdpdGggJHtzdHJhdGVneX1gKTtcclxuXHJcbiAgICAvLyBTdGVwIDM6IEFNRCBQcm9jZXNzaW5nIHdpdGggc2VsZWN0ZWQgc3RyYXRlZ3lcclxuICAgIGNvbnN0IGRldGVjdG9yID0gY3JlYXRlRGV0ZWN0b3Ioc3RyYXRlZ3kpO1xyXG4gICAgY29uc3QgbW9ja0F1ZGlvQnVmZmVyID0gQnVmZmVyLmFsbG9jKDEwMjQpOyAvLyBNb2NrIGF1ZGlvIGRhdGFcclxuICAgIGNvbnN0IGFtZFJlc3VsdCA9IGF3YWl0IGRldGVjdG9yLnByb2Nlc3NTdHJlYW0obW9ja0F1ZGlvQnVmZmVyKTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coYEFNRCBSZXN1bHQgZm9yICR7c3RyYXRlZ3l9OmAsIGFtZFJlc3VsdCk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIGZpbmFsIHN0YXR1cyBiYXNlZCBvbiBBTUQgcmVzdWx0XHJcbiAgICBsZXQgZmluYWxTdGF0dXMgPSAnQ09NUExFVEVEJztcclxuICAgIFxyXG4gICAgLy8gRm9yIGRlbW8gcHVycG9zZXMsIG1ha2UgY2VydGFpbiBudW1iZXJzIGFsd2F5cyB0cmlnZ2VyIG1hY2hpbmUgZGV0ZWN0aW9uXHJcbiAgICBjb25zdCBtYWNoaW5lTnVtYmVycyA9IFsnMTgwMDc3NDI2NzgnLCAnMTgwMDgwNjY0NTMnLCAnMTg4ODIyMTExNjEnXTsgLy8gQ29zdGNvLCBOaWtlLCBQYXlQYWxcclxuICAgIGNvbnN0IGNsZWFuTnVtYmVyID0gdGFyZ2V0TnVtYmVyLnJlcGxhY2UoL1xcRC9nLCAnJyk7XHJcbiAgICBcclxuICAgIGxldCBmaW5hbFJlc3VsdCA9IGFtZFJlc3VsdC5yZXN1bHQ7XHJcbiAgICBsZXQgZmluYWxDb25maWRlbmNlID0gYW1kUmVzdWx0LmNvbmZpZGVuY2U7XHJcbiAgICBcclxuICAgIGlmIChtYWNoaW5lTnVtYmVycy5zb21lKG51bSA9PiBjbGVhbk51bWJlci5pbmNsdWRlcyhudW0uc2xpY2UoMSkpKSkge1xyXG4gICAgICAvLyBGb3JjZSBtYWNoaW5lIGRldGVjdGlvbiBmb3Iga25vd24gdm9pY2VtYWlsIG51bWJlcnNcclxuICAgICAgZmluYWxSZXN1bHQgPSAnbWFjaGluZSc7XHJcbiAgICAgIGZpbmFsQ29uZmlkZW5jZSA9IE1hdGgubWF4KDAuODUsIGFtZFJlc3VsdC5jb25maWRlbmNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTdGVwIDQ6IFVwZGF0ZSB3aXRoIGZpbmFsIEFNRCByZXN1bHRcclxuICAgIGF3YWl0IHByaXNtYS5jYWxsLnVwZGF0ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBjYWxsSWQgfSxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHN0YXR1czogZmluYWxTdGF0dXMsXHJcbiAgICAgICAgZGV0ZWN0aW9uUmVzdWx0OiBmaW5hbFJlc3VsdC50b1VwcGVyQ2FzZSgpLFxyXG4gICAgICAgIGNvbmZpZGVuY2U6IGZpbmFsQ29uZmlkZW5jZSxcclxuICAgICAgICBkdXJhdGlvbjogZmluYWxSZXN1bHQgPT09ICdodW1hbicgPyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMjApICsgMzAgOiAwLCAvLyBSYW5kb20gZHVyYXRpb24gZm9yIGh1bWFuc1xyXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhgQ2FsbCAke2NhbGxJZH0gY29tcGxldGVkOiAke2ZpbmFsUmVzdWx0fSAoY29uZmlkZW5jZTogJHtmaW5hbENvbmZpZGVuY2V9KWApO1xyXG4gICAgXHJcbiAgICAvLyBMb2cgc3RyYXRlZ3kgcGVyZm9ybWFuY2VcclxuICAgIGNvbnNvbGUubG9nKGBTdHJhdGVneSBQZXJmb3JtYW5jZSAtICR7c3RyYXRlZ3l9OmAsIHtcclxuICAgICAgcmVzdWx0OiBmaW5hbFJlc3VsdCxcclxuICAgICAgY29uZmlkZW5jZTogZmluYWxDb25maWRlbmNlLFxyXG4gICAgICBwcm9jZXNzaW5nVGltZTogYW1kUmVzdWx0LnByb2Nlc3NpbmdUaW1lLFxyXG4gICAgICB0YXJnZXROdW1iZXI6IHRhcmdldE51bWJlclxyXG4gICAgfSk7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBzaW11bGF0aW5nIGNhbGwgcHJvZ3Jlc3Npb24gZm9yICR7Y2FsbElkfTpgLCBlcnJvcik7XHJcbiAgICBcclxuICAgIC8vIE1hcmsgY2FsbCBhcyBmYWlsZWRcclxuICAgIGF3YWl0IHByaXNtYS5jYWxsLnVwZGF0ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBjYWxsSWQgfSxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHN0YXR1czogJ0ZBSUxFRCcsXHJcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJQcmlzbWFDbGllbnQiLCJ6IiwiY3JlYXRlRGV0ZWN0b3IiLCJwcmlzbWEiLCJpbml0aWF0ZUNhbGxTY2hlbWEiLCJvYmplY3QiLCJ0YXJnZXROdW1iZXIiLCJzdHJpbmciLCJtaW4iLCJhbWRTdHJhdGVneSIsImRlZmF1bHQiLCJ1c2VySWQiLCJQT1NUIiwicmVxdWVzdCIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwianNvbiIsInZhbGlkYXRlZERhdGEiLCJwYXJzZSIsImZvcm1hdHRlZE51bWJlciIsInN0YXJ0c1dpdGgiLCJyZXBsYWNlIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlkIiwiZXJyb3IiLCJzdGF0dXMiLCJjYWxsIiwiY3JlYXRlIiwiZGF0YSIsInNldFRpbWVvdXQiLCJzaW11bGF0ZUNhbGxQcm9ncmVzc2lvbiIsInN1Y2Nlc3MiLCJjYWxsSWQiLCJjYWxsU2lkIiwiZGVtbyIsIlpvZEVycm9yIiwiZGV0YWlscyIsImlzc3VlcyIsIkVycm9yIiwibWVzc2FnZSIsInN0cmF0ZWd5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJ1cGRhdGUiLCJ1cGRhdGVkQXQiLCJEYXRlIiwiZGV0ZWN0b3IiLCJtb2NrQXVkaW9CdWZmZXIiLCJCdWZmZXIiLCJhbGxvYyIsImFtZFJlc3VsdCIsInByb2Nlc3NTdHJlYW0iLCJmaW5hbFN0YXR1cyIsIm1hY2hpbmVOdW1iZXJzIiwiY2xlYW5OdW1iZXIiLCJmaW5hbFJlc3VsdCIsInJlc3VsdCIsImZpbmFsQ29uZmlkZW5jZSIsImNvbmZpZGVuY2UiLCJzb21lIiwibnVtIiwiaW5jbHVkZXMiLCJzbGljZSIsIk1hdGgiLCJtYXgiLCJkZXRlY3Rpb25SZXN1bHQiLCJ0b1VwcGVyQ2FzZSIsImR1cmF0aW9uIiwiZmxvb3IiLCJyYW5kb20iLCJwcm9jZXNzaW5nVGltZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/calls/demo-initiate/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/amdStrategies.ts":
/*!******************************!*\
  !*** ./lib/amdStrategies.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeminiFlashAMD: () => (/* binding */ GeminiFlashAMD),\n/* harmony export */   HuggingFaceAMD: () => (/* binding */ HuggingFaceAMD),\n/* harmony export */   JambonzAMD: () => (/* binding */ JambonzAMD),\n/* harmony export */   TwilioNativeAMD: () => (/* binding */ TwilioNativeAMD),\n/* harmony export */   createDetector: () => (/* binding */ createDetector),\n/* harmony export */   runMultiStrategyAMD: () => (/* binding */ runMultiStrategyAMD)\n/* harmony export */ });\n/**\r\n * AMD Strategies Factory\r\n * Implements multiple AMD detection strategies\r\n */ // Strategy 1: Twilio Native AMD\nclass TwilioNativeAMD {\n    getName() {\n        return \"twilio-native\";\n    }\n    async processStream(audioBuffer) {\n        const startTime = Date.now();\n        // Simulate Twilio's native AMD processing\n        // In real implementation, this would be handled by Twilio's webhook\n        await new Promise((resolve)=>setTimeout(resolve, 1500)); // Simulate processing time\n        // Mock detection based on audio characteristics\n        const mockResult = this.mockDetection(audioBuffer);\n        return {\n            result: mockResult.result,\n            confidence: mockResult.confidence,\n            strategy: \"twilio-native\",\n            processingTime: Date.now() - startTime\n        };\n    }\n    mockDetection(audioBuffer) {\n        // Mock logic - in real app this comes from Twilio\n        const random = Math.random();\n        if (random > 0.7) {\n            return {\n                result: \"machine\",\n                confidence: 0.85 + Math.random() * 0.1\n            };\n        } else if (random > 0.3) {\n            return {\n                result: \"human\",\n                confidence: 0.8 + Math.random() * 0.15\n            };\n        } else {\n            return {\n                result: \"undecided\",\n                confidence: 0.5 + Math.random() * 0.2\n            };\n        }\n    }\n}\n// Strategy 2: Jambonz SIP-Enhanced AMD\nclass JambonzAMD {\n    getName() {\n        return \"jambonz-sip\";\n    }\n    async processStream(audioBuffer) {\n        const startTime = Date.now();\n        try {\n            // Simulate Jambonz AMD processing with enhanced parameters\n            await new Promise((resolve)=>setTimeout(resolve, 2000));\n            // Mock enhanced detection with word count analysis\n            const result = this.analyzeWithWordCount(audioBuffer);\n            return {\n                result: result.result,\n                confidence: result.confidence,\n                strategy: \"jambonz-sip\",\n                processingTime: Date.now() - startTime\n            };\n        } catch (error) {\n            console.error(\"Jambonz AMD failed, falling back to basic detection:\", error);\n            return {\n                result: \"undecided\",\n                confidence: 0.3,\n                strategy: \"jambonz-sip-fallback\",\n                processingTime: Date.now() - startTime\n            };\n        }\n    }\n    analyzeWithWordCount(audioBuffer) {\n        // Mock word count analysis (thresholdWordCount: 5)\n        const mockWordCount = Math.floor(Math.random() * 15) + 1;\n        if (mockWordCount > 8) {\n            // Long greeting = likely machine\n            return {\n                result: \"machine\",\n                confidence: 0.9 + Math.random() * 0.05\n            };\n        } else if (mockWordCount <= 3) {\n            // Short greeting = likely human\n            return {\n                result: \"human\",\n                confidence: 0.85 + Math.random() * 0.1\n            };\n        } else {\n            // Medium length = uncertain\n            return {\n                result: \"undecided\",\n                confidence: 0.6 + Math.random() * 0.2\n            };\n        }\n    }\n}\n// Strategy 3: Hugging Face ML Model\nclass HuggingFaceAMD {\n    getName() {\n        return \"huggingface-ml\";\n    }\n    async processStream(audioBuffer) {\n        const startTime = Date.now();\n        try {\n            // Simulate ML model processing\n            const result = await this.callMLService(audioBuffer);\n            return {\n                result: result.label,\n                confidence: result.confidence,\n                strategy: \"huggingface-ml\",\n                processingTime: Date.now() - startTime\n            };\n        } catch (error) {\n            console.error(\"Hugging Face ML service failed:\", error);\n            return {\n                result: \"undecided\",\n                confidence: 0.2,\n                strategy: \"huggingface-ml-error\",\n                processingTime: Date.now() - startTime\n            };\n        }\n    }\n    async callMLService(audioBuffer) {\n        // Simulate API call to Python ML service\n        await new Promise((resolve)=>setTimeout(resolve, 2500));\n        // Mock ML model results with high accuracy\n        const predictions = [\n            {\n                label: \"human\",\n                confidence: 0.92\n            },\n            {\n                label: \"machine\",\n                confidence: 0.88\n            },\n            {\n                label: \"human\",\n                confidence: 0.85\n            },\n            {\n                label: \"machine\",\n                confidence: 0.94\n            },\n            {\n                label: \"undecided\",\n                confidence: 0.45\n            }\n        ];\n        return predictions[Math.floor(Math.random() * predictions.length)];\n    }\n}\n// Strategy 4: Google Gemini Flash Real-Time\nclass GeminiFlashAMD {\n    getName() {\n        return \"gemini-flash\";\n    }\n    async processStream(audioBuffer) {\n        const startTime = Date.now();\n        try {\n            // Simulate Gemini Flash multimodal analysis\n            const result = await this.analyzeWithGemini(audioBuffer);\n            return {\n                result: result.result,\n                confidence: result.confidence,\n                strategy: \"gemini-flash\",\n                processingTime: Date.now() - startTime\n            };\n        } catch (error) {\n            console.error(\"Gemini Flash analysis failed:\", error);\n            return {\n                result: \"undecided\",\n                confidence: 0.25,\n                strategy: \"gemini-flash-error\",\n                processingTime: Date.now() - startTime\n            };\n        }\n    }\n    async analyzeWithGemini(audioBuffer) {\n        // Simulate Gemini Flash Live API call\n        await new Promise((resolve)=>setTimeout(resolve, 1800));\n        // Mock LLM-based analysis with contextual understanding\n        const scenarios = [\n            {\n                result: \"human\",\n                confidence: 0.89,\n                reason: \"Natural speech patterns detected\"\n            },\n            {\n                result: \"machine\",\n                confidence: 0.91,\n                reason: \"Robotic intonation and scripted content\"\n            },\n            {\n                result: \"human\",\n                confidence: 0.87,\n                reason: \"Conversational tone with hesitations\"\n            },\n            {\n                result: \"machine\",\n                confidence: 0.93,\n                reason: \"Consistent pace and formal language\"\n            },\n            {\n                result: \"undecided\",\n                confidence: 0.55,\n                reason: \"Ambiguous audio quality\"\n            }\n        ];\n        const selected = scenarios[Math.floor(Math.random() * scenarios.length)];\n        console.log(`Gemini analysis: ${selected.reason}`);\n        return {\n            result: selected.result,\n            confidence: selected.confidence\n        };\n    }\n}\n// Factory function to create AMD detectors\nfunction createDetector(strategy) {\n    switch(strategy){\n        case \"twilio-native\":\n            return new TwilioNativeAMD();\n        case \"jambonz-sip\":\n            return new JambonzAMD();\n        case \"huggingface-ml\":\n            return new HuggingFaceAMD();\n        case \"gemini-flash\":\n            return new GeminiFlashAMD();\n        default:\n            return new TwilioNativeAMD(); // Default fallback\n    }\n}\n// Utility function to run multiple strategies and compare results\nasync function runMultiStrategyAMD(audioBuffer, strategies) {\n    const results = await Promise.all(strategies.map(async (strategy)=>{\n        const detector = createDetector(strategy);\n        return await detector.processStream(audioBuffer);\n    }));\n    return results;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJZDtRQUNiLEtBQUs7WUFDSCxPQUFPLElBQUlrQjtRQUNiLEtBQUs7WUFDSCxPQUFPLElBQUlNO1FBQ2IsS0FBSztZQUNILE9BQU8sSUFBSUs7UUFDYjtZQUNFLE9BQU8sSUFBSTdCLG1CQUFtQixtQkFBbUI7SUFDckQ7QUFDRjtBQUVBLGtFQUFrRTtBQUMzRCxlQUFlb0Msb0JBQW9CakMsV0FBbUIsRUFBRWtDLFVBQW9CO0lBQ2pGLE1BQU1DLFVBQVUsTUFBTS9CLFFBQVFnQyxHQUFHLENBQy9CRixXQUFXRyxHQUFHLENBQUMsT0FBTzFCO1FBQ3BCLE1BQU0yQixXQUFXTixlQUFlckI7UUFDaEMsT0FBTyxNQUFNMkIsU0FBU3ZDLGFBQWEsQ0FBQ0M7SUFDdEM7SUFHRixPQUFPbUM7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2F0dGFjay1jYXBpdGFsLW5leHRqcy8uL2xpYi9hbWRTdHJhdGVnaWVzLnRzPzI1OWIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEFNRCBTdHJhdGVnaWVzIEZhY3RvcnlcclxuICogSW1wbGVtZW50cyBtdWx0aXBsZSBBTUQgZGV0ZWN0aW9uIHN0cmF0ZWdpZXNcclxuICovXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFNRFJlc3VsdCB7XHJcbiAgcmVzdWx0OiAnaHVtYW4nIHwgJ21hY2hpbmUnIHwgJ3VuZGVjaWRlZCc7XHJcbiAgY29uZmlkZW5jZTogbnVtYmVyO1xyXG4gIHN0cmF0ZWd5OiBzdHJpbmc7XHJcbiAgcHJvY2Vzc2luZ1RpbWU6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBTUREZXRlY3RvciB7XHJcbiAgcHJvY2Vzc1N0cmVhbShhdWRpb0J1ZmZlcjogQnVmZmVyKTogUHJvbWlzZTxBTURSZXN1bHQ+O1xyXG4gIGdldE5hbWUoKTogc3RyaW5nO1xyXG59XHJcblxyXG4vLyBTdHJhdGVneSAxOiBUd2lsaW8gTmF0aXZlIEFNRFxyXG5leHBvcnQgY2xhc3MgVHdpbGlvTmF0aXZlQU1EIGltcGxlbWVudHMgQU1ERGV0ZWN0b3Ige1xyXG4gIGdldE5hbWUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAndHdpbGlvLW5hdGl2ZSc7XHJcbiAgfVxyXG5cclxuICBhc3luYyBwcm9jZXNzU3RyZWFtKGF1ZGlvQnVmZmVyOiBCdWZmZXIpOiBQcm9taXNlPEFNRFJlc3VsdD4ge1xyXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgIFxyXG4gICAgLy8gU2ltdWxhdGUgVHdpbGlvJ3MgbmF0aXZlIEFNRCBwcm9jZXNzaW5nXHJcbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIGJlIGhhbmRsZWQgYnkgVHdpbGlvJ3Mgd2ViaG9va1xyXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDE1MDApKTsgLy8gU2ltdWxhdGUgcHJvY2Vzc2luZyB0aW1lXHJcbiAgICBcclxuICAgIC8vIE1vY2sgZGV0ZWN0aW9uIGJhc2VkIG9uIGF1ZGlvIGNoYXJhY3RlcmlzdGljc1xyXG4gICAgY29uc3QgbW9ja1Jlc3VsdCA9IHRoaXMubW9ja0RldGVjdGlvbihhdWRpb0J1ZmZlcik7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3VsdDogbW9ja1Jlc3VsdC5yZXN1bHQsXHJcbiAgICAgIGNvbmZpZGVuY2U6IG1vY2tSZXN1bHQuY29uZmlkZW5jZSxcclxuICAgICAgc3RyYXRlZ3k6ICd0d2lsaW8tbmF0aXZlJyxcclxuICAgICAgcHJvY2Vzc2luZ1RpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vY2tEZXRlY3Rpb24oYXVkaW9CdWZmZXI6IEJ1ZmZlcik6IHsgcmVzdWx0OiAnaHVtYW4nIHwgJ21hY2hpbmUnIHwgJ3VuZGVjaWRlZCcsIGNvbmZpZGVuY2U6IG51bWJlciB9IHtcclxuICAgIC8vIE1vY2sgbG9naWMgLSBpbiByZWFsIGFwcCB0aGlzIGNvbWVzIGZyb20gVHdpbGlvXHJcbiAgICBjb25zdCByYW5kb20gPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgaWYgKHJhbmRvbSA+IDAuNykge1xyXG4gICAgICByZXR1cm4geyByZXN1bHQ6ICdtYWNoaW5lJywgY29uZmlkZW5jZTogMC44NSArIE1hdGgucmFuZG9tKCkgKiAwLjEgfTtcclxuICAgIH0gZWxzZSBpZiAocmFuZG9tID4gMC4zKSB7XHJcbiAgICAgIHJldHVybiB7IHJlc3VsdDogJ2h1bWFuJywgY29uZmlkZW5jZTogMC44ICsgTWF0aC5yYW5kb20oKSAqIDAuMTUgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB7IHJlc3VsdDogJ3VuZGVjaWRlZCcsIGNvbmZpZGVuY2U6IDAuNSArIE1hdGgucmFuZG9tKCkgKiAwLjIgfTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIFN0cmF0ZWd5IDI6IEphbWJvbnogU0lQLUVuaGFuY2VkIEFNRFxyXG5leHBvcnQgY2xhc3MgSmFtYm9uekFNRCBpbXBsZW1lbnRzIEFNRERldGVjdG9yIHtcclxuICBnZXROYW1lKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJ2phbWJvbnotc2lwJztcclxuICB9XHJcblxyXG4gIGFzeW5jIHByb2Nlc3NTdHJlYW0oYXVkaW9CdWZmZXI6IEJ1ZmZlcik6IFByb21pc2U8QU1EUmVzdWx0PiB7XHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBTaW11bGF0ZSBKYW1ib256IEFNRCBwcm9jZXNzaW5nIHdpdGggZW5oYW5jZWQgcGFyYW1ldGVyc1xyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpO1xyXG4gICAgICBcclxuICAgICAgLy8gTW9jayBlbmhhbmNlZCBkZXRlY3Rpb24gd2l0aCB3b3JkIGNvdW50IGFuYWx5c2lzXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYW5hbHl6ZVdpdGhXb3JkQ291bnQoYXVkaW9CdWZmZXIpO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICByZXN1bHQ6IHJlc3VsdC5yZXN1bHQsXHJcbiAgICAgICAgY29uZmlkZW5jZTogcmVzdWx0LmNvbmZpZGVuY2UsXHJcbiAgICAgICAgc3RyYXRlZ3k6ICdqYW1ib256LXNpcCcsXHJcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWVcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0phbWJvbnogQU1EIGZhaWxlZCwgZmFsbGluZyBiYWNrIHRvIGJhc2ljIGRldGVjdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdWx0OiAndW5kZWNpZGVkJyxcclxuICAgICAgICBjb25maWRlbmNlOiAwLjMsXHJcbiAgICAgICAgc3RyYXRlZ3k6ICdqYW1ib256LXNpcC1mYWxsYmFjaycsXHJcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWVcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYW5hbHl6ZVdpdGhXb3JkQ291bnQoYXVkaW9CdWZmZXI6IEJ1ZmZlcik6IHsgcmVzdWx0OiAnaHVtYW4nIHwgJ21hY2hpbmUnIHwgJ3VuZGVjaWRlZCcsIGNvbmZpZGVuY2U6IG51bWJlciB9IHtcclxuICAgIC8vIE1vY2sgd29yZCBjb3VudCBhbmFseXNpcyAodGhyZXNob2xkV29yZENvdW50OiA1KVxyXG4gICAgY29uc3QgbW9ja1dvcmRDb3VudCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE1KSArIDE7XHJcbiAgICBcclxuICAgIGlmIChtb2NrV29yZENvdW50ID4gOCkge1xyXG4gICAgICAvLyBMb25nIGdyZWV0aW5nID0gbGlrZWx5IG1hY2hpbmVcclxuICAgICAgcmV0dXJuIHsgcmVzdWx0OiAnbWFjaGluZScsIGNvbmZpZGVuY2U6IDAuOSArIE1hdGgucmFuZG9tKCkgKiAwLjA1IH07XHJcbiAgICB9IGVsc2UgaWYgKG1vY2tXb3JkQ291bnQgPD0gMykge1xyXG4gICAgICAvLyBTaG9ydCBncmVldGluZyA9IGxpa2VseSBodW1hblxyXG4gICAgICByZXR1cm4geyByZXN1bHQ6ICdodW1hbicsIGNvbmZpZGVuY2U6IDAuODUgKyBNYXRoLnJhbmRvbSgpICogMC4xIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBNZWRpdW0gbGVuZ3RoID0gdW5jZXJ0YWluXHJcbiAgICAgIHJldHVybiB7IHJlc3VsdDogJ3VuZGVjaWRlZCcsIGNvbmZpZGVuY2U6IDAuNiArIE1hdGgucmFuZG9tKCkgKiAwLjIgfTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIFN0cmF0ZWd5IDM6IEh1Z2dpbmcgRmFjZSBNTCBNb2RlbFxyXG5leHBvcnQgY2xhc3MgSHVnZ2luZ0ZhY2VBTUQgaW1wbGVtZW50cyBBTUREZXRlY3RvciB7XHJcbiAgZ2V0TmFtZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICdodWdnaW5nZmFjZS1tbCc7XHJcbiAgfVxyXG5cclxuICBhc3luYyBwcm9jZXNzU3RyZWFtKGF1ZGlvQnVmZmVyOiBCdWZmZXIpOiBQcm9taXNlPEFNRFJlc3VsdD4ge1xyXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gU2ltdWxhdGUgTUwgbW9kZWwgcHJvY2Vzc2luZ1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNhbGxNTFNlcnZpY2UoYXVkaW9CdWZmZXIpO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICByZXN1bHQ6IHJlc3VsdC5sYWJlbCBhcyAnaHVtYW4nIHwgJ21hY2hpbmUnIHwgJ3VuZGVjaWRlZCcsXHJcbiAgICAgICAgY29uZmlkZW5jZTogcmVzdWx0LmNvbmZpZGVuY2UsXHJcbiAgICAgICAgc3RyYXRlZ3k6ICdodWdnaW5nZmFjZS1tbCcsXHJcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWVcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0h1Z2dpbmcgRmFjZSBNTCBzZXJ2aWNlIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdWx0OiAndW5kZWNpZGVkJyxcclxuICAgICAgICBjb25maWRlbmNlOiAwLjIsXHJcbiAgICAgICAgc3RyYXRlZ3k6ICdodWdnaW5nZmFjZS1tbC1lcnJvcicsXHJcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWVcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgY2FsbE1MU2VydmljZShhdWRpb0J1ZmZlcjogQnVmZmVyKTogUHJvbWlzZTx7IGxhYmVsOiBzdHJpbmcsIGNvbmZpZGVuY2U6IG51bWJlciB9PiB7XHJcbiAgICAvLyBTaW11bGF0ZSBBUEkgY2FsbCB0byBQeXRob24gTUwgc2VydmljZVxyXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDI1MDApKTtcclxuICAgIFxyXG4gICAgLy8gTW9jayBNTCBtb2RlbCByZXN1bHRzIHdpdGggaGlnaCBhY2N1cmFjeVxyXG4gICAgY29uc3QgcHJlZGljdGlvbnMgPSBbXHJcbiAgICAgIHsgbGFiZWw6ICdodW1hbicsIGNvbmZpZGVuY2U6IDAuOTIgfSxcclxuICAgICAgeyBsYWJlbDogJ21hY2hpbmUnLCBjb25maWRlbmNlOiAwLjg4IH0sXHJcbiAgICAgIHsgbGFiZWw6ICdodW1hbicsIGNvbmZpZGVuY2U6IDAuODUgfSxcclxuICAgICAgeyBsYWJlbDogJ21hY2hpbmUnLCBjb25maWRlbmNlOiAwLjk0IH0sXHJcbiAgICAgIHsgbGFiZWw6ICd1bmRlY2lkZWQnLCBjb25maWRlbmNlOiAwLjQ1IH1cclxuICAgIF07XHJcbiAgICBcclxuICAgIHJldHVybiBwcmVkaWN0aW9uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwcmVkaWN0aW9ucy5sZW5ndGgpXTtcclxuICB9XHJcbn1cclxuXHJcbi8vIFN0cmF0ZWd5IDQ6IEdvb2dsZSBHZW1pbmkgRmxhc2ggUmVhbC1UaW1lXHJcbmV4cG9ydCBjbGFzcyBHZW1pbmlGbGFzaEFNRCBpbXBsZW1lbnRzIEFNRERldGVjdG9yIHtcclxuICBnZXROYW1lKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJ2dlbWluaS1mbGFzaCc7XHJcbiAgfVxyXG5cclxuICBhc3luYyBwcm9jZXNzU3RyZWFtKGF1ZGlvQnVmZmVyOiBCdWZmZXIpOiBQcm9taXNlPEFNRFJlc3VsdD4ge1xyXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gU2ltdWxhdGUgR2VtaW5pIEZsYXNoIG11bHRpbW9kYWwgYW5hbHlzaXNcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5hbmFseXplV2l0aEdlbWluaShhdWRpb0J1ZmZlcik7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3VsdDogcmVzdWx0LnJlc3VsdCxcclxuICAgICAgICBjb25maWRlbmNlOiByZXN1bHQuY29uZmlkZW5jZSxcclxuICAgICAgICBzdHJhdGVneTogJ2dlbWluaS1mbGFzaCcsXHJcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWVcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0dlbWluaSBGbGFzaCBhbmFseXNpcyBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3VsdDogJ3VuZGVjaWRlZCcsXHJcbiAgICAgICAgY29uZmlkZW5jZTogMC4yNSxcclxuICAgICAgICBzdHJhdGVneTogJ2dlbWluaS1mbGFzaC1lcnJvcicsXHJcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWVcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgYW5hbHl6ZVdpdGhHZW1pbmkoYXVkaW9CdWZmZXI6IEJ1ZmZlcik6IFByb21pc2U8eyByZXN1bHQ6ICdodW1hbicgfCAnbWFjaGluZScgfCAndW5kZWNpZGVkJywgY29uZmlkZW5jZTogbnVtYmVyIH0+IHtcclxuICAgIC8vIFNpbXVsYXRlIEdlbWluaSBGbGFzaCBMaXZlIEFQSSBjYWxsXHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTgwMCkpO1xyXG4gICAgXHJcbiAgICAvLyBNb2NrIExMTS1iYXNlZCBhbmFseXNpcyB3aXRoIGNvbnRleHR1YWwgdW5kZXJzdGFuZGluZ1xyXG4gICAgY29uc3Qgc2NlbmFyaW9zID0gW1xyXG4gICAgICB7IHJlc3VsdDogJ2h1bWFuJyBhcyBjb25zdCwgY29uZmlkZW5jZTogMC44OSwgcmVhc29uOiAnTmF0dXJhbCBzcGVlY2ggcGF0dGVybnMgZGV0ZWN0ZWQnIH0sXHJcbiAgICAgIHsgcmVzdWx0OiAnbWFjaGluZScgYXMgY29uc3QsIGNvbmZpZGVuY2U6IDAuOTEsIHJlYXNvbjogJ1JvYm90aWMgaW50b25hdGlvbiBhbmQgc2NyaXB0ZWQgY29udGVudCcgfSxcclxuICAgICAgeyByZXN1bHQ6ICdodW1hbicgYXMgY29uc3QsIGNvbmZpZGVuY2U6IDAuODcsIHJlYXNvbjogJ0NvbnZlcnNhdGlvbmFsIHRvbmUgd2l0aCBoZXNpdGF0aW9ucycgfSxcclxuICAgICAgeyByZXN1bHQ6ICdtYWNoaW5lJyBhcyBjb25zdCwgY29uZmlkZW5jZTogMC45MywgcmVhc29uOiAnQ29uc2lzdGVudCBwYWNlIGFuZCBmb3JtYWwgbGFuZ3VhZ2UnIH0sXHJcbiAgICAgIHsgcmVzdWx0OiAndW5kZWNpZGVkJyBhcyBjb25zdCwgY29uZmlkZW5jZTogMC41NSwgcmVhc29uOiAnQW1iaWd1b3VzIGF1ZGlvIHF1YWxpdHknIH1cclxuICAgIF07XHJcbiAgICBcclxuICAgIGNvbnN0IHNlbGVjdGVkID0gc2NlbmFyaW9zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNjZW5hcmlvcy5sZW5ndGgpXTtcclxuICAgIGNvbnNvbGUubG9nKGBHZW1pbmkgYW5hbHlzaXM6ICR7c2VsZWN0ZWQucmVhc29ufWApO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyByZXN1bHQ6IHNlbGVjdGVkLnJlc3VsdCwgY29uZmlkZW5jZTogc2VsZWN0ZWQuY29uZmlkZW5jZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gRmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgQU1EIGRldGVjdG9yc1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGV0ZWN0b3Ioc3RyYXRlZ3k6IHN0cmluZyk6IEFNRERldGVjdG9yIHtcclxuICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XHJcbiAgICBjYXNlICd0d2lsaW8tbmF0aXZlJzpcclxuICAgICAgcmV0dXJuIG5ldyBUd2lsaW9OYXRpdmVBTUQoKTtcclxuICAgIGNhc2UgJ2phbWJvbnotc2lwJzpcclxuICAgICAgcmV0dXJuIG5ldyBKYW1ib256QU1EKCk7XHJcbiAgICBjYXNlICdodWdnaW5nZmFjZS1tbCc6XHJcbiAgICAgIHJldHVybiBuZXcgSHVnZ2luZ0ZhY2VBTUQoKTtcclxuICAgIGNhc2UgJ2dlbWluaS1mbGFzaCc6XHJcbiAgICAgIHJldHVybiBuZXcgR2VtaW5pRmxhc2hBTUQoKTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBuZXcgVHdpbGlvTmF0aXZlQU1EKCk7IC8vIERlZmF1bHQgZmFsbGJhY2tcclxuICB9XHJcbn1cclxuXHJcbi8vIFV0aWxpdHkgZnVuY3Rpb24gdG8gcnVuIG11bHRpcGxlIHN0cmF0ZWdpZXMgYW5kIGNvbXBhcmUgcmVzdWx0c1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuTXVsdGlTdHJhdGVneUFNRChhdWRpb0J1ZmZlcjogQnVmZmVyLCBzdHJhdGVnaWVzOiBzdHJpbmdbXSk6IFByb21pc2U8QU1EUmVzdWx0W10+IHtcclxuICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICBzdHJhdGVnaWVzLm1hcChhc3luYyAoc3RyYXRlZ3kpID0+IHtcclxuICAgICAgY29uc3QgZGV0ZWN0b3IgPSBjcmVhdGVEZXRlY3RvcihzdHJhdGVneSk7XHJcbiAgICAgIHJldHVybiBhd2FpdCBkZXRlY3Rvci5wcm9jZXNzU3RyZWFtKGF1ZGlvQnVmZmVyKTtcclxuICAgIH0pXHJcbiAgKTtcclxuICBcclxuICByZXR1cm4gcmVzdWx0cztcclxufSJdLCJuYW1lcyI6WyJUd2lsaW9OYXRpdmVBTUQiLCJnZXROYW1lIiwicHJvY2Vzc1N0cmVhbSIsImF1ZGlvQnVmZmVyIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIm1vY2tSZXN1bHQiLCJtb2NrRGV0ZWN0aW9uIiwicmVzdWx0IiwiY29uZmlkZW5jZSIsInN0cmF0ZWd5IiwicHJvY2Vzc2luZ1RpbWUiLCJyYW5kb20iLCJNYXRoIiwiSmFtYm9uekFNRCIsImFuYWx5emVXaXRoV29yZENvdW50IiwiZXJyb3IiLCJjb25zb2xlIiwibW9ja1dvcmRDb3VudCIsImZsb29yIiwiSHVnZ2luZ0ZhY2VBTUQiLCJjYWxsTUxTZXJ2aWNlIiwibGFiZWwiLCJwcmVkaWN0aW9ucyIsImxlbmd0aCIsIkdlbWluaUZsYXNoQU1EIiwiYW5hbHl6ZVdpdGhHZW1pbmkiLCJzY2VuYXJpb3MiLCJyZWFzb24iLCJzZWxlY3RlZCIsImxvZyIsImNyZWF0ZURldGVjdG9yIiwicnVuTXVsdGlTdHJhdGVneUFNRCIsInN0cmF0ZWdpZXMiLCJyZXN1bHRzIiwiYWxsIiwibWFwIiwiZGV0ZWN0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/amdStrategies.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/zod","vendor-chunks/@opentelemetry","vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcalls%2Fdemo-initiate%2Froute&page=%2Fapi%2Fcalls%2Fdemo-initiate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcalls%2Fdemo-initiate%2Froute.ts&appDir=C%3A%5CUsers%5C1azha%5CDownloads%5Cattack-capital_-advanced-amd%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C1azha%5CDownloads%5Cattack-capital_-advanced-amd&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();